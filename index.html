---
layout: default
title: Antelope
css: index
js: index
---

<script type="text/javascript">
  $(document).ready(function() {

    var firstExampleStartKeyFrame = 400
    var firstLoadKeyFrame = 2100

    var withoutAntelopeDOMLoadTime = 4050

    var firstAsyncLoadKeyFrame = firstLoadKeyFrame + withoutAntelopeDOMLoadTime
    var withoutAntelopeAsyncLoadTime = 2050

    var secondExampleStartKeyFrame = firstAsyncLoadKeyFrame + withoutAntelopeAsyncLoadTime + 2200
    var secondLoadKeyFrame = 3300
    var withAntelopeLoadTime = 2040
    /*
    var oldHeight = $('#top-section').height()
    var wHeight = $(window).height()
    var navHeight = $('#navbar').height()
    $('#top-section').outerHeight(wHeight - navHeight)
    */
    var $timeout = window.setTimeout

    var video = document.getElementById('video');

    video.addEventListener('loadedmetadata', function() {
      $timeout(function() {
        startVideoPresentation()
      }, 2000)
    }, false)
    

    function startVideoPresentation() {

      $("#video-container").addClass("shift")

      var video = $('#video').get(0).play()

      startFirstLoad();

      $timeout(function() {
        startSecondLoad();
      }, secondExampleStartKeyFrame)

    }

    function startFirstLoad() {

      $timeout(function() {
        $('#without-antelope-header').addClass("show")
      }, firstExampleStartKeyFrame)
      
      $timeout(function() {
        $('#without-antelope-subheader').addClass("show")
        showFirstBar()
      }, firstLoadKeyFrame)

      $timeout(function() {
        $('#without-antelope-subheader').text("Downloading ad content and tracking scripts")
        showSecondBar()
      }, firstAsyncLoadKeyFrame)

      function showFirstBar() {
        var bar = $('#without-antelope-load-bar')
        var loadTimeInSeconds = withoutAntelopeDOMLoadTime / 1000.0
        barCounter = new CountUp('without-antelope-load-bar-counter', 0, loadTimeInSeconds, 2, loadTimeInSeconds, { useEasing: false, suffix: 's' })
        bar.addClass("show")
        bar.addClass("expanded")

        barCounter.start()
      }

      function showSecondBar() {
        var bar = $('#without-antelope-async-load-bar')
        var loadTimeInSeconds = withoutAntelopeAsyncLoadTime / 1000.0
        barCounter = new CountUp('without-antelope-async-load-bar-counter', 0, loadTimeInSeconds, 2, loadTimeInSeconds, { useEasing: false, suffix: 's' })
        bar.addClass("show")
        bar.addClass("expanded")

        barCounter.start(onFinish);
      }

      function onFinish() {
        $('#without-antelope-subheader').text("Done at " + ((withoutAntelopeDOMLoadTime + withoutAntelopeAsyncLoadTime) / 1000.0).toFixed(2) + " seconds")

        $('#without-antelope-total-label .label-value').text(((withoutAntelopeDOMLoadTime + withoutAntelopeAsyncLoadTime) / 1000.0) + ' seconds') 
        $('#without-antelope-total-label').addClass("show")
      }
    }

    function startSecondLoad() {
      $('#with-antelope-header').addClass("show")
      var bar = $('#with-antelope-load-bar')
      var loadTimeInSeconds = withAntelopeLoadTime / 1000.0

      var barCounter = new CountUp("with-antelope-load-bar-counter", 0, loadTimeInSeconds, 2, loadTimeInSeconds, { useEasing: false, suffix: 's' })

      $timeout(function() {
        bar.addClass("show")
        bar.addClass("expanded")
        $('#with-antelope-subheader').addClass("show")

        barCounter.start(function() {
          $('#with-antelope-async-load-bar').addClass("expanded")
          $('#with-antelope-async-load-bar').addClass("show")
          $('#with-antelope-subheader').text("Done at " + loadTimeInSeconds + " seconds")

          $timeout(function() {
            $('#methodology-description').addClass("show")
          }, 1500)
        })

      }, secondLoadKeyFrame)
    }

  })
</script>

<div class="home">
  <section id="top-section">
    <div class="container">

      <div class="img-container text-center" id="logo-container">
        <img src="{{ site.baseurl }}/images/circle-logo.jpg" width="90" height="90"/>
      </div>
      <div class="spacer-10"></div>
      <div class="text-container">
        <h1 class="page-heading text-center">Antelope makes Safari Faster</h1>
        <p class="text-center">It tells Safari on your iPhone or iPad not to download ads and trackers, making websites lighter to load.</p>
      </div>

      <div class="spacer-40">
      </div>
      <div class="img-container text-center" id="video-container">
        <img src="{{ site.baseurl }}/images/phone-frame.png" width="280" height="auto"/>
        <video width="260" height="auto" id="video">
          <source src="{{ site.baseurl }}/images/PhoneScreenView.mp4" type="video/mp4">
          Videos not supported by your browser.
        </video>

        <div id="video-text-container">
          <h3 id="without-antelope-header">
            Page load time without Antelope
          </h3>

          <p id="without-antelope-subheader">Downloading page content</p>

          <div class="bar" id="without-antelope-load-bar">
            <div class="bar-timer" id="without-antelope-load-bar-counter">0.0s</div>
          </div>
          <div class="bar magenta" id="without-antelope-async-load-bar">
            <div class="bar-timer" id="without-antelope-async-load-bar-counter">0.0
            </div>
          </div>

          <div class="spacer-40"></div>

          <h3 id="with-antelope-header">
            Now turn on Antelope
          </h3>
          <p id="with-antelope-subheader">Downloading page content</p>

          <div class="bar" id="with-antelope-load-bar">
            <div class="bar-timer" id="with-antelope-load-bar-counter">0.0s</div>
          </div>

          <div class="bar magenta" id="with-antelope-async-load-bar">
            <div class="bar-timer" id="with-antelope-async-load-bar-counter">0.0s</div>
          </div>

          <p id="methodology-description">
            The browser cache was cleared both times before loading nytimes.com, and both used the same wi-fi internet connection.
          </p>

        </div>

        <div id="video-blackout">&nbsp</div>
      </div>

    </div>
  </section>

  <section id="second-section">
    <div class="container">

      <div class="row">
        <div class="col-xs-6 text-right">
          <h2 class="white">
            Sites will
          </h2>
          <hr/>
          <ul id="site-will-bullet-points">
            <li>
              load much faster,
            </li>
            <li>
              look cleaner without ads,
            </li>
            <li>
              use less data.
            </li>
          </ul>
        </div>

        <div class="col-xs-6">
          <img id="white-antelope" src="{{ site.baseurl }}/images/white-antelope.png" height="auto"/>
        </div>
      </div>

    </div>
  </section>

</div>
